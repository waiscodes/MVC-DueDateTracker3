@{
    ViewData["Title"] = "Create";
}

<section>
    <h2>Add a book</h2>
    @if (ViewBag.Message != null)
    {
        <p>@(ViewBag.Message)</p>
        @if (ViewBag.Error != null)
        {
            <p>Error has occured.</p>

            <ul>
                @foreach (Exception e in ViewBag.Exception.ValidationExceptions)
                {
                    <li>@(e.Message)</li>
                }
            </ul>
        }
    }

    <form action="/Book/Create" method="post">
        <div>
            <label for="title">Title:</label>
            <input id="title" type="text" name="title" value="" />
        </div>
        <div>
            <label for="author">Author:</label>
            <select name="author">
                @foreach (Author author in ViewBag.Authors)
                {
                    <option value="@(author.ID)" selected>@(author.Name)</option>
                }
            </select>
        </div>
        <div>
            <label for="publicationDate">Publication Date:</label>
            <input id="publicationDate" type="date" name="publicationDate" max="@(DateTime.Now.ToString("yyyy-MM-dd"))" />
        </div>
        <input type="submit" value="Submit" />
    </form>
</section>

@*
    Citations
    Today's Date https://stackoverflow.com/questions/38823758/format-datetime-now-to-yyyy-mm-dd

*@